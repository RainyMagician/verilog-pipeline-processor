# label values

main @ 0x0000
factors @ 0x0010
loop_0 @ 0x0034
skip @ 0x0048
end_0 @ 0x0050
modulo @ 0x0070
loop_1 @ 0x007C
end_1 @ 0x008C
end @ 0x00A0

# Instruction decoding

main:
line    6:   addi $sp, $0, 4095
rd=29, rs1=0, imm=FFFh
0000111 11111 00000 1111 11101 001000
0000: 0FF07F48

line    7: 	lw $a0, 0($0)
rd=4, rs1=0, imm=0h
0000000 00000 00000 0000 00100 100011
0004: 00000123

line    9: 	jal factors
imm=10h
0000000000000000000000010000 000011
0008: 00000403

line   10: 	j end
imm=A0h
0000000000000000000010100000 000010
000C: 00002802

factors:
line   13: 	beq $a0, $0, end
rs1=4, rs2=0, offset=8Ch
0000000 00000 00100 0100 01100 000100
0010: 00022304

line   14: 	addi $sp, $sp, -20
rd=29, rs1=29, imm=-14h
1111111 11110 11101 1100 11101 001000
0014: FFEEE748

line   15: 	sw $ra, 0($sp)
rd=1, rs1=29, imm=0h
0000000 00000 11101 0000 00001 101011
0018: 000E806B

line   16: 	sw $a0, 4($sp)	# $a0 = num to be factored
rd=4, rs1=29, imm=4h
0000000 00000 11101 0100 00100 101011
001C: 000EA12B

line   17: 	sw $a1, 8($sp)
rd=5, rs1=29, imm=8h
0000000 00000 11101 1000 00101 101011
0020: 000EC16B

line   18: 	sw $a2, 12($sp)
rd=6, rs1=29, imm=Ch
0000000 00000 11101 1100 00110 101011
0024: 000EE1AB

line   19: 	sw $a3, 16($sp)
rd=7, rs1=29, imm=10h
0000000 00001 11101 0000 00111 101011
0028: 001E81EB

line   21: 	addi $a1, $0, 4	# $a1 = j=0
rd=5, rs1=0, imm=4h
0000000 00000 00000 0100 00101 001000
002C: 00002148

line   22: 	addi $a2, $0, 1	# $a2 = i=1
rd=6, rs1=0, imm=1h
0000000 00000 00000 0001 00110 001000
0030: 00000988

loop_0:
line   24: 		beq $a2, $a0, end_0	# if i<=n
rs1=6, rs2=4, offset=18h
0000000 00100 00110 0000 11000 000100
0034: 00430604

line   25: 		jal modulo	# $a3 = remainder
imm=70h
0000000000000000000001110000 000011
0038: 00001C03

line   26: 		bne $a3, $0, skip	# if remnainder == 0
rs1=7, rs2=0, offset=8h
0000000 00000 00111 0000 01000 000101
003C: 00038205

line   27: 			sw $a2, 0($a1)	# factors[j] = i
rd=6, rs1=5, imm=0h
0000000 00000 00101 0000 00110 101011
0040: 000281AB

line   28: 			addi $a1, $a1, 4	# j++
rd=5, rs1=5, imm=4h
0000000 00000 00101 0100 00101 001000
0044: 0002A148

skip:
line   30: 		addi $a2, $a2, 1	# i++
rd=6, rs1=6, imm=1h
0000000 00000 00110 0001 00110 001000
0048: 00030988

line   31: 		j loop_0
imm=34h
0000000000000000000000110100 000010
004C: 00000D02

end_0:
line   33: 	sw $a0, 0($a1)
rd=4, rs1=5, imm=0h
0000000 00000 00101 0000 00100 101011
0050: 0002812B

line   35: 	lw $ra, 0($sp)
rd=1, rs1=29, imm=0h
0000000 00000 11101 0000 00001 100011
0054: 000E8063

line   36: 	lw $a0, 4($sp)
rd=4, rs1=29, imm=4h
0000000 00000 11101 0100 00100 100011
0058: 000EA123

line   37: 	lw $a1, 8($sp)
rd=5, rs1=29, imm=8h
0000000 00000 11101 1000 00101 100011
005C: 000EC163

line   38: 	lw $a2, 12($sp)
rd=6, rs1=29, imm=Ch
0000000 00000 11101 1100 00110 100011
0060: 000EE1A3

line   39: 	lw $a3, 16($sp)
rd=7, rs1=29, imm=10h
0000000 00001 11101 0000 00111 100011
0064: 001E81E3

line   40: 	addi $sp, $sp, 20
rd=29, rs1=29, imm=14h
0000000 00001 11101 0100 11101 001000
0068: 001EA748

line   41: 	jr $ra
rd=1
0001000 xxxxx xxxxx xxxx 00001 000000
006C: 10000040

modulo:
line   44: 	addi $sp, $sp, -8
rd=29, rs1=29, imm=-8h
1111111 11111 11101 1000 11101 001000
0070: FFFEC748

line   45: 	sw $a0, 0($sp)
rd=4, rs1=29, imm=0h
0000000 00000 11101 0000 00100 101011
0074: 000E812B

line   46: 	sw $a1, 4($sp)
rd=5, rs1=29, imm=4h
0000000 00000 11101 0100 00101 101011
0078: 000EA16B

loop_1:
line   49: 		sub $a0, $a0, $a2
rd=4, rs1=4, rs2=6
0100010 00110 00100 xxxx 00100 000000
007C: 44620100

line   50: 		slt $a1, $a0, $0
rd=5, rs1=4, rs2=0
0101010 00000 00100 xxxx 00101 000000
0080: 54020140

line   51: 		bne $a1, $0, end_1
rs1=5, rs2=0, offset=4h
0000000 00000 00101 0000 00100 000101
0084: 00028105

line   52: 		j loop_1
imm=7Ch
0000000000000000000001111100 000010
0088: 00001F02

end_1:
line   54: 	add $a3, $a0, $a2
rd=7, rs1=4, rs2=6
0100000 00110 00100 xxxx 00111 000000
008C: 406201C0

line   56: 	lw $a0, 0($sp)
rd=4, rs1=29, imm=0h
0000000 00000 11101 0000 00100 100011
0090: 000E8123

line   57: 	lw $a1, 4($sp)
rd=5, rs1=29, imm=4h
0000000 00000 11101 0100 00101 100011
0094: 000EA163

line   58: 	addi $sp, $sp, 8
rd=29, rs1=29, imm=8h
0000000 00000 11101 1000 11101 001000
0098: 000EC748

line   59: 	jr $ra
rd=1
0001000 xxxxx xxxxx xxxx 00001 000000
009C: 10000040

end:
